<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="~{layout/head.html :: head}">
    <title>Ciusky</title>
</head>
<body class="dark:bg-gray-900 antialiased">
<header th:replace="~{layout/header.html :: header}"></header>
<main class="p-6">

    <!--    <ul>-->
    <!--        <li th:each="item : ${listTag}" th:text="${item}"></li>-->
    <!--    </ul>-->

    <div class="relative overflow-x-auto">
        <table class="csk-table">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Type</th>
                <th scope="col">Quality</th>
                <th scope="col">Paid</th>
                <th scope="col">Value</th>
                <th scope="col">Tags</th>
                <th scope="col">Count</th>
                <th scope="col">Images</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="item : ${listCiusky}">
                <td th:text="${item.id}"></td>
                <td th:text="${item.title}"></td>
                <td th:text="${item.description}"></td>
                <td th:text="${item.typeDescription}"></td>
                <td>
                    <div th:replace="~{components/rating.html :: rating(value=${item.quality})}"></div>
                </td>
                <td th:text="${item.paidPrice}">
                </td>
                <td th:text="${item.marketPrice}"></td>
                <td>
                    <div class="flex gap-2 overflow-x-auto whitespace-nowrap py-1">
                        <span th:each="tag : ${item.tags}"
                              th:with="tagColor=${@colors.getColor(tag.key)}"
                              th:class="'csk-tag-'+ ${tagColor}"
                              th:text="|${tag.key}: ${tag.value}|"></span>
                    </div>
                </td>
                <td th:text="${#lists.size(item.uuidImages)}"></td>
                <td>
                    <div class="flex gap-2 overflow-x-auto whitespace-nowrap py-1">
                        <img th:each="uuid, iter: ${item.uuidImages}" th:if="${iter.index} < 3" loading="lazy"
                             class="w-10 h-10 rounded-sm" alt="Thumbnail"
                             th:src="@{/image/{uuid}?thumbnail=true(uuid=${uuid})}"/>
                        <div th:text="'+' + ${#lists.size(item.uuidImages) - 3}"
                             th:if="${#lists.size(item.uuidImages)} > 3"
                             class="w-10 h-10 rounded-sm bg-gray-200 flex items-center justify-center text-sm font-medium"></div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="fixed right-4 bottom-4 z-50 md:right-6 md:bottom-6 lg:right-8 lg:bottom-8">
        <form th:action="@{/ciusky}" method="get" class="inline">
            <button type="submit"
                    aria-label="Create"
                    class="inline-flex items-center justify-center p-3 rounded-full text-white bg-blue-600 hover:bg-blue-700">
                <!-- default icon: plus -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24"
                     stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path>
                </svg>
            </button>
        </form>
    </div>
</main>

</body>
</html>
